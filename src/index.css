@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import display + body fonts */
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');

@layer base {
  :root {
    --color-bg-primary: #f8fafc;
    --color-bg-elevated: #ffffff;
    --color-bg-accent: #ecfeff;
    --color-text-primary: #0f172a;
    --color-text-secondary: #475569;
    --color-primary: #0ea5a4;
    --color-primary-hover: #0f766e;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans text-surface-800;
    margin: 0;
    min-height: 100vh;
    background-color: var(--color-bg-primary);
    background-image:
      radial-gradient(1000px 400px at 10% -10%, rgba(6, 182, 212, 0.18), transparent 60%),
      radial-gradient(900px 500px at 90% 0%, rgba(245, 158, 11, 0.16), transparent 60%),
      linear-gradient(135deg, #f8fafc 0%, #ecfeff 48%, #fff7ed 100%);
    background-attachment: fixed;
  }

  /* Typography defaults */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display font-semibold text-surface-900;
  }

  /* Focus states for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400;
  }
}

@layer components {

  /* Card component */
  .card {
    @apply bg-[var(--color-bg-elevated)] rounded-2xl shadow-card border border-surface-100;
    @apply transition-shadow duration-200;
  }

  .card:hover {
    @apply shadow-card-hover;
  }

  .card-body {
    @apply p-5 sm:p-6;
  }

  /* Section header */
  .section-header {
    @apply flex items-center gap-2.5 mb-5;
  }

  .section-title {
    @apply text-heading-lg text-surface-900;
  }

  .section-subtitle {
    @apply text-body-sm text-surface-500 mt-0.5;
  }

  /* Stat tile */
  .stat-tile {
    @apply bg-surface-50 rounded-xl p-4 border border-surface-100;
    @apply transition-all duration-200;
  }

  .stat-tile:hover {
    @apply border-surface-200 bg-surface-100/50;
  }

  .stat-value {
    @apply text-display-sm text-surface-900 font-bold tabular-nums;
  }

  .stat-label {
    @apply text-body-sm text-surface-500 font-medium;
  }

  .stat-unit {
    @apply text-body-sm text-surface-400 font-normal ml-1;
  }

  /* Button variants */
  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-4 py-2.5 rounded-xl font-medium text-body-md;
    @apply transition-all duration-200;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  .btn-primary {
    @apply bg-primary-600 text-white;
    @apply hover:bg-primary-700 active:bg-primary-800;
    @apply focus-visible:ring-primary-500;
  }

  .btn-secondary {
    @apply bg-surface-100 text-surface-700;
    @apply hover:bg-surface-200 active:bg-surface-300;
    @apply focus-visible:ring-surface-400;
  }

  .btn-ghost {
    @apply bg-transparent text-surface-600;
    @apply hover:bg-surface-100 active:bg-surface-200;
    @apply focus-visible:ring-surface-400;
  }

  .btn-sm {
    @apply px-3 py-2 text-body-sm rounded-lg;
  }

  .btn-lg {
    @apply px-6 py-3 text-body-lg rounded-2xl;
  }

  /* Form inputs */
  .input {
    @apply w-full px-3.5 py-2.5 rounded-xl;
    @apply bg-white border border-surface-200;
    @apply text-body-md text-surface-800 placeholder:text-surface-400;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500;
  }

  .input-sm {
    @apply px-3 py-2 text-body-sm rounded-lg;
  }

  .select {
    @apply input appearance-none cursor-pointer;
    @apply bg-no-repeat bg-right;
    padding-right: 2.5rem;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.25rem;
  }

  /* Badge / Chip */
  .badge {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-full;
    @apply text-caption font-medium;
  }

  .badge-success {
    @apply bg-status-success/10 text-status-success;
  }

  .badge-warning {
    @apply bg-status-warning/10 text-status-warning;
  }

  .badge-danger {
    @apply bg-status-danger/10 text-status-danger;
  }

  .badge-info {
    @apply bg-status-info/10 text-status-info;
  }

  .badge-neutral {
    @apply bg-surface-100 text-surface-600;
  }

  /* Chart container */
  .chart-container {
    @apply relative w-full;
  }

  .chart-legend {
    @apply flex flex-wrap gap-4 mt-4 pt-4 border-t border-surface-100;
  }

  .chart-legend-item {
    @apply flex items-center gap-2 text-body-sm text-surface-600;
  }

  .chart-legend-dot {
    @apply w-3 h-3 rounded-full flex-shrink-0;
  }

  /* Status indicator */
  .status-dot {
    @apply w-2.5 h-2.5 rounded-full flex-shrink-0;
  }

  .status-dot-success {
    @apply bg-status-success;
  }

  .status-dot-warning {
    @apply bg-status-warning;
  }

  .status-dot-danger {
    @apply bg-status-danger;
  }

  .status-dot-pulse {
    @apply animate-pulse-soft;
  }

  /* Navigation */
  .nav-link {
    @apply flex items-center gap-2 px-4 py-2.5 rounded-xl;
    @apply text-body-md font-medium text-surface-600;
    @apply transition-all duration-200;
    @apply hover:bg-surface-100 hover:text-surface-900;
  }

  .nav-link-active {
    @apply bg-primary-50 text-primary-700;
  }

  /* Quick action cards */
  .quick-action {
    @apply flex items-center gap-3 p-4 rounded-xl;
    @apply bg-surface-50 border border-surface-100;
    @apply transition-all duration-200 cursor-pointer;
    @apply hover:bg-surface-100 hover:border-surface-200;
  }

  /* Loading skeleton */
  .skeleton {
    @apply bg-surface-200 rounded-lg animate-pulse;
  }

  /* Empty state */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 text-surface-300 mb-4;
  }

  .empty-state-title {
    @apply text-heading-md text-surface-600 mb-2;
  }

  .empty-state-description {
    @apply text-body-md text-surface-400 max-w-sm;
  }
}

@layer utilities {

  /* Tabular numbers for consistent alignment */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Truncate with ellipsis */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Safe area padding for mobile */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Gradient text */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent;
  }

  /* Glass effect for overlays */
  .glass {
    @apply bg-white/80 backdrop-blur-lg;
  }

  /* Responsive grid helpers */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}